# Gatewayz Frontend Environment Variables

# Next.js
NEXT_PUBLIC_API_BASE_URL=https://api.gatewayz.ai

# Terragon Integration (Inbox / Coding Agent)
# URL of the deployed Terragon OSS application
# This is the URL that will be embedded in the /inbox page
# IMPORTANT: Must be a Terragon instance, NOT a GatewayZ URL
# Production: https://inbox.gatewayz.ai
# Deploy your own: https://github.com/terragon-labs/terragon-oss
NEXT_PUBLIC_TERRAGON_URL=https://your-terragon-instance.railway.app

# Shared secret for Terragon auth bridge (must match GATEWAYZ_AUTH_BRIDGE_SECRET on Terragon)
# Generate with: openssl rand -base64 32
GATEWAYZ_AUTH_BRIDGE_SECRET=your-shared-secret-here

# Coding Agent (Vercel Labs coding-agent-template)
# Deploy your own: https://github.com/vercel-labs/coding-agent-template
# Set this to your deployed coding-agent-template URL
# NEXT_PUBLIC_AGENT_URL=https://your-coding-agent.vercel.app

# Privy Authentication
NEXT_PUBLIC_PRIVY_APP_ID=your-privy-app-id

# OAuth Provider Client IDs (for desktop app OAuth flow)
# Get these from Google Cloud Console and GitHub Developer Settings
# Required for desktop app OAuth authentication
NEXT_PUBLIC_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
NEXT_PUBLIC_GITHUB_CLIENT_ID=your-github-client-id

# Stripe Configuration
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret

# Optional: Stripe Publishable Key (for frontend)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your_publishable_key

# Stripe Subscription Price IDs
# CRITICAL: Required for Pro/Max tier subscriptions to work
# Get these from Stripe Dashboard → Products → [Product] → Pricing
# Pro Product ID: prod_TKOqQPhVRxNp4Q (find its recurring $10/month price)
# Max Product ID: prod_TKOraBpWMxMAIu (find its recurring $75/month price)
# See SUBSCRIPTION_FIX.md for detailed instructions
NEXT_PUBLIC_STRIPE_PRO_PRICE_ID=price_xxxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_MAX_PRICE_ID=price_xxxxxxxxxxxxx

# Gateway API Keys (optional - for auth and rate limit bypass)
# NEXT_PUBLIC_HF_API_KEY=your-huggingface-api-key
# NEXT_PUBLIC_NEAR_API_KEY=your-near-api-key

# Guest Mode API Key
# Used to allow unauthenticated users to send up to 10 chat messages
# This should be a special backend API key with limited rate limits
GUEST_API_KEY=your-guest-api-key

# Statsig Analytics & Feature Flags
NEXT_PUBLIC_STATSIG_CLIENT_KEY=client-your-statsig-client-key

# PostHog Analytics (optional)
# NEXT_PUBLIC_POSTHOG_KEY=your-posthog-key
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Braintrust LLM Tracing
BRAINTRUST_API_KEY=sk-xYEPdagoC0Nqv5c8FHNlmx0G2wX03WDb0K9frSJE04ntPvZY

# Sentry Error Tracking & Performance Monitoring
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id

# Sentry Releases - Required for automatic release creation during builds
# Get token from: Sentry → Settings → Auth Tokens
# Permissions needed: project:releases, project:write
# See SENTRY_RELEASES_QUICK_START.md for setup instructions
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# Optional: Override auto-detected release identifier
# By default: git commit SHA → package version (nextn@0.1.0)
# SENTRY_RELEASE=my-app@1.0.0
# NEXT_PUBLIC_SENTRY_RELEASE=my-app@1.0.0

# Sentry Configuration - Suppress false positive warnings
# These warnings appear during development but the features are properly implemented
#
# 1. Global Error Handler Warning
#    Set to '1' to suppress "no global-error.js file" warning
#    Note: global-error.tsx IS implemented at src/app/global-error.tsx
#    Sentry's detection doesn't recognize .tsx files - this is a known false positive
SENTRY_SUPPRESS_GLOBAL_ERROR_HANDLER_FILE_WARNING=1
#
# 2. Instrumentation Hook Warning
#    The onRequestError hook IS properly configured in instrumentation.ts:17
#    This warning appears because Sentry checks for the hook before the file loads
#    It's safe to ignore - the hook is functional and capturing errors correctly

# Redis Configuration (for caching)
# Option 1: Use REDIS_URL (Railway, Heroku, most cloud providers)
# Format: redis://[username]:[password]@[host]:[port]/[db]
# REDIS_URL=redis://default:password@host.railway.app:6379

# Option 2: Use individual variables (local development)
# Default: localhost:6379 (no password)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Note: If REDIS_URL is set, it takes precedence over individual variables

# E2E Testing with Privy Test Account
# These credentials are from Privy's test account system
# Email: test-1049@privy.io
# OTP: 362762 (expires 10 hours from creation)
# Phone: +1 555 555 6196
# DO NOT use these in production environments
PRIVY_TEST_EMAIL=test-1049@privy.io
PRIVY_TEST_OTP=362762

# Encryption Configuration (CRITICAL - P0 Security)
# KEY_VERSION: Current key version in use (integer)
# KEYRING_N: Fernet encryption key for version N
# Generate new keys with: python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# Keep old keys for backward compatibility when rotating
KEY_VERSION=1
KEYRING_1=your-fernet-encryption-key-here
