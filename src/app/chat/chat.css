
.chat-sidebar {
    width: 280px;
    flex-shrink: 0;
}

/* Ensure Textarea auto-grows */
.chat-input textarea {
    resize: none;
    overflow-y: auto;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

/* Streaming message animation */
.streaming-message {
    position: relative;
}

.streaming-message::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg,
        transparent 0%,
        hsl(var(--primary)) 50%,
        transparent 100%
    );
    background-size: 200% 100%;
    animation: streaming-shimmer 1.5s ease-in-out infinite;
}

@keyframes streaming-shimmer {
    0% {
        background-position: -200% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

/* Shimmer animation for thinking loader */
@keyframes shimmer {
    0% {
        transform: translateX(-100%);
    }
    100% {
        transform: translateX(100%);
    }
}

/* Mobile-specific styles */
@media (max-width: 1024px) {
    .chat-sidebar {
        display: none;
    }
}

/* Touch-friendly styles */
.touch-manipulation {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

/* Mobile scrollbar styles */
@media (max-width: 640px) {
    .scrollbar-thin {
        scrollbar-width: thin;
        scrollbar-color: hsl(var(--muted)) transparent;
    }
    
    .scrollbar-thin::-webkit-scrollbar {
        width: 4px;
    }
    
    .scrollbar-thin::-webkit-scrollbar-track {
        background: transparent;
    }
    
    .scrollbar-thin::-webkit-scrollbar-thumb {
        background-color: hsl(var(--muted));
        border-radius: 2px;
    }
    
    .scrollbar-thin::-webkit-scrollbar-thumb:hover {
        background-color: hsl(var(--muted-foreground));
    }
}

/* Mobile message optimization */
@media (max-width: 640px) {
    .mobile-message {
        max-width: 95%;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    .mobile-button {
        min-height: 44px; /* iOS touch target size */
        min-width: 44px;
    }

    /* Ensure all chat content respects mobile width */
    .prose {
        max-width: 100% !important;
        overflow-wrap: break-word;
        word-wrap: break-word;
        word-break: break-word;
    }

    /* Prevent code blocks from overflowing */
    .prose pre {
        max-width: 100%;
        overflow-x: auto;
        white-space: pre-wrap;
        word-wrap: break-word;
    }

    /* Ensure images stay within bounds */
    .prose img {
        max-width: 100%;
        height: auto;
    }
}

/* Prevent zoom on input focus on iOS */
@media screen and (max-width: 640px) {
    input[type="text"],
    input[type="search"],
    textarea {
        font-size: 16px;
    }
}

/* Mobile-specific animations */
@media (max-width: 640px) {
    .mobile-slide-in {
        animation: slideInFromLeft 0.3s ease-out;
    }
    
    @keyframes slideInFromLeft {
        from {
            transform: translateX(-100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }
}
